{% extends "base.html" %}

{% block page_title %}ğŸ“ Mes Documents{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto; padding: 20px;">
    <h1 style="color: #333; margin-bottom: 30px;">ğŸ“ Mes Documents</h1>

    <!-- Messages -->
    {% if messages %}
    <div style="margin-bottom: 20px;">
        {% for message in messages %}
        <div style="background: {% if message.tags == 'success' %}#4CAF50{% elif message.tags == 'error' %}#f44336{% else %}#2196F3{% endif %}; color: white; padding: 15px; border-radius: 4px; margin-bottom: 10px;">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Info -->
    <div style="background: #e3f2fd; border-left: 4px solid #2196F3; padding: 15px; margin-bottom: 30px; border-radius: 4px;">
        <p style="margin: 0; color: #1976D2;">
            ğŸ’¡ Retrouvez ici tous vos documents : contrats, bulletins de salaire, attestations, etc.
        </p>
    </div>

    <!-- Liste des documents -->
    {% if documents %}
    <div style="display: grid; gap: 20px;">
        {% for doc in documents %}
        <div style="background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); display: flex; align-items: center; gap: 20px;">
            <div style="font-size: 48px; color: #667eea;">ğŸ“„</div>
            <div style="flex: 1;">
                <h3 style="margin: 0 0 5px 0; color: #333;">{{ doc.title }}</h3>
                <p style="margin: 0; color: #666; font-size: 14px;">
                    <span style="background: #667eea; color: white; padding: 3px 8px; border-radius: 4px; font-size: 12px; margin-right: 10px;">
                        {{ doc.get_document_type_display }}
                    </span>
                    UploadÃ© le {{ doc.uploaded_at|date:"d/m/Y Ã  H:i" }}
                </p>
                {% if doc.description %}
                <p style="margin: 10px 0 0 0; color: #666; font-size: 13px;">{{ doc.description }}</p>
                {% endif %}
            </div>
            <div style="display: flex; flex-direction: column; gap: 8px;">
                <a href="{% url 'document_preview' doc.id %}" target="_blank" style="background: #2196F3; color: white; padding: 10px 18px; border-radius: 4px; text-decoration: none; font-weight: 600; display: inline-block; text-align: center;">
                    ğŸ‘ï¸ Apercu
                </a>
                <a href="{{ doc.file.url }}" target="_blank" download style="background: #667eea; color: white; padding: 10px 18px; border-radius: 4px; text-decoration: none; font-weight: 600; display: inline-block; text-align: center;">
                    â¬‡ï¸ Telecharger
                </a>
                <div style="text-align: center; margin-top: 2px; font-size: 12px; color: #999;">
                    {{ doc.file_size }} Ko
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div style="background: white; padding: 60px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); text-align: center;">
        <div style="font-size: 64px; margin-bottom: 20px;">ğŸ“‚</div>
        <p style="color: #999; font-size: 18px; margin: 0;">Aucun document disponible pour le moment</p>
    </div>
    {% endif %}

    <!-- Retour -->
    <div style="margin-top: 30px;">
        <a href="{% url 'employee_portal' %}" style="display: inline-block; padding: 12px 24px; background: #f5f5f5; color: #333; text-decoration: none; border-radius: 4px; font-weight: 600;">
            â† Retour au portail
        </a>
    </div>
</div>

<style>
a:hover {
    opacity: 0.9;
}
</style>

{% endblock %}
